

PER PACKET:
8 - packet serial
8 - ack serial
32 - ack bitmask

PER MESSAGE:
8 - Message type
8/16 - Payload length (variable size ushort)

x - Payload


Message Type:

 0 Error
 1 Library Empty packet / Explicit acknowledge
 2 Library Connect
 3 Library ConnectResponse
 4 Library ConnectionEstablished
 5 Library ConnectionRejected
 6 Library Disconnect
 7 Library Discovery
 8 Library DiscoveryResponse
 9 Library NatIntroduction

14 User (unreliable)
15 User (reliable unordered) (needed?)

16 User (sequenced) 1
17 User (sequenced) 2
18 User (sequenced) 3
19 User (sequenced) 4
20 User (sequenced) 5
21 User (sequenced) 6
22 User (sequenced) 7
23 User (sequenced) 8
24 User (sequenced) 9
25 User (sequenced) 10
26 User (sequenced) 11
27 User (sequenced) 12
28 User (sequenced) 13
29 User (sequenced) 14
30 User (sequenced) 15
31 User (sequenced) 16

32 User (reliable sequenced) 1
33 User (reliable sequenced) 2
34 User (reliable sequenced) 3
35 User (reliable sequenced) 4
36 User (reliable sequenced) 5
37 User (reliable sequenced) 6
38 User (reliable sequenced) 7
39 User (reliable sequenced) 8
40 User (reliable sequenced) 9
41 User (reliable sequenced) 10
42 User (reliable sequenced) 11
43 User (reliable sequenced) 12
44 User (reliable sequenced) 13
45 User (reliable sequenced) 14
46 User (reliable sequenced) 15
47 User (reliable sequenced) 16

48 User (reliable ordered) 1
49 User (reliable ordered) 2
50 User (reliable ordered) 3
51 User (reliable ordered) 4
52 User (reliable ordered) 5
53 User (reliable ordered) 6
54 User (reliable ordered) 7
55 User (reliable ordered) 8
56 User (reliable ordered) 9
57 User (reliable ordered) 10
58 User (reliable ordered) 11
59 User (reliable ordered) 12
60 User (reliable ordered) 13 
61 User (reliable ordered) 14
62 User (reliable ordered) 15
63 User (reliable ordered) 16
